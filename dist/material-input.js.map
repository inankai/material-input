{"version":3,"sources":["material-input.js"],"names":["MaterialInput","createShadowRoot","innerHTML","setAttribute","type","getAttribute","value","name","label","placeholder","invalid","hasAttribute","valid","insertAdjacentHTML","$container","shadowRoot","querySelector","$input","$label","$message","$hiddenInput","document","addEventListener","_value","bind","focus","_label","_placeholder","required","_toggle","removeAttribute","el","cls","condition","classList","add","remove","HTMLElement","registerElement"],"mappings":"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","file":"material-input.js","sourcesContent":["'use strict';\n\nclass MaterialInput extends HTMLElement {\n\n    constructor() {\n        super(); // always call super() first in the ctor. This also calls the extended class' ctor.\n    }\n\n    createdCallback() {\n        this.createShadowRoot().innerHTML = `\n            <style>\n                :host{\n                    color: rgb(54,79,199);\n                    display: block;\n                    position: relative;\n                }\n                .material-input__container{\n                    width: inherit;\n                    display: block;\n                    position: relative;\n                    margin: .5em 0;\n                }\n                .material-input__input{\n                    box-sizing: border-box;\n                    position: relative;\n                    background-color: transparent;\n                    font-size: 1em;\n                    color: black;\n                    padding: 1em 1em 1em 10px;\n                    display: block;\n                    width: 100%;\n                    border: none;\n                    border-bottom: .1rem solid rgb(206,212,218);\n                }\n                .material-input__input:focus{\n                    outline: none;\n                    color: black;\n                }\n                /* placeholder and placeholder fade on focus */\n                .material-input__input::-webkit-input-placeholder {\n                    color: rgb(134,142,150);\n                    opacity: 1;\n                }\n                .material-input__input:focus::-webkit-input-placeholder {\n                    opacity: .5;\n                    transition: opacity .35s ease;\n                }\n                .material-input__input::-moz-placeholder {\n                    color: rgb(134,142,150);\n                    opacity: 1;\n                }\n                .material-input__input:focus::-moz-placeholder {\n                    opacity: .5;\n                    transition: opacity .35s ease;\n                }\n                .material-input__input:-ms-input-placeholder {\n                    color: rgb(134,142,150);\n                    opacity: 1;\n                }\n                .material-input__input:-ms-input-placeholder {\n                    opacity: .5;\n                    transition: opacity .35s ease;\n                }\n                /* Labels */\n                .material-input__label{\n                    color: rgb(134,142,150);\n                    font-size: inherit;\n                    pointer-events: none;\n                    position: absolute;\n                    left: 10px;\n                    bottom: 1em;\n                    transition: 0.2s ease all;\n                }\n                .material-input__container.is-empty .material-input__input[placeholder] ~ .material-input__label{\n                    color: black;\n                }\n                /* active state */\n                .material-input__input:focus ~ .material-input__label,\n                .material-input__container:not(.is-empty) .material-input__label,\n                .material-input__container.label-always-floats .material-input__label{\n                    bottom: 3em;\n                    font-size: .75em;\n                }\n                .material-input__input:focus ~ .material-input__label,\n                .material-input__container.is-empty .material-input__input[placeholder]:focus ~ .material-input__label{\n                    color: inherit;\n                }\n                .material-input__bar{\n                    position:relative;\n                    display:block;\n                    width:100%;\n                }\n                .material-input__bar::before, .material-input__bar::after {\n                    content:'';\n                    height:2px;\n                    width:0;\n                    bottom:0;\n                    position:absolute;\n                    background: currentColor;\n                    transition:0.2s ease all;\n                }\n                .material-input__bar::before {\n                    left:50%;\n                }\n                .material-input__bar::after {\n                    right:50%;\n                }\n                .material-input__input:focus ~ .material-input__bar:before, .material-input__input:focus ~ .material-input__bar:after{\n                    width:50%;\n                }\n            </style>\n            <div class=\"material-input__container\">\n                <input class=\"material-input__input\" tabindex=\"-1\" />\n                <label class=\"material-input__label\"></label>\n                <div class=\"material-input__bar\"></div>\n                <div class=\"material-input__message\"></div>\n            </div>\n        `;\n        // initialize attributes\n        this.setAttribute('tabindex',0);\n        this.type = this.getAttribute('type') || 'text';\n        this.value = this.getAttribute('value') || null;\n        this.name = this.getAttribute('name') || 'material-input';\n        this.label = this.getAttribute('label') || null;\n        this.placeholder = this.getAttribute('placeholder') || null;\n        this.invalid = this.hasAttribute('invalid') || false;\n        this.valid = this.hasAttribute('valid') || false;\n        // add input field for form submisson\n        this.insertAdjacentHTML('afterend','<input tabindex=\"-1\" type=\"hidden\" name=\"'+this.name+'\"/>');\n        // elements\n        this.$container = this.shadowRoot.querySelector('.material-input__container');\n        this.$input = this.$container.querySelector('.material-input__input');\n        this.$label = this.$container.querySelector('.material-input__label');\n        this.$message = this.$container.querySelector('.material-input__message');\n        this.$hiddenInput = document.querySelector('input[name='+this.name+']');\n\n        this.$input.setAttribute('type', this.type);\n\n        this.$input.addEventListener('keydown', function(){\n            this._value(this.$input.value);\n        }.bind(this));\n\n        this.$input.addEventListener('blur', function(){\n            this._value(this.$input.value);\n        }.bind(this));\n\n        this.addEventListener('focus', function(){\n            this.$input.focus();\n        });\n\n        if(this.value){\n            this.$input.value = this.value;\n        }\n\n        this._value(this.value);\n        this._label(this.label);\n        this._placeholder(this.placeholder);\n\n        if(this.required){\n            this.$hiddenInput.setAttribute('required','');\n        }\n    }\n\n    _value(value){\n        // set value of material-input\n        this.value = !value ? '' : value;\n        // set value of hidden input for form submission\n        this.$hiddenInput.value = this.value;\n        // set state depending on value\n        this._toggle(this.$container, 'is-empty', this.value === '');\n    }\n    /**\n     * add label to material-input\n     */\n    _label(label){\n        this.$label.innerHTML = label;\n        this._toggle(this.$container, 'label-always-floats',this.placeholder !== null);\n    }\n\n    _placeholder(placeholder){\n        if(placeholder !== null){\n            this.$input.placeholder = placeholder;\n        }\n        else{\n            this.$input.removeAttribute('placeholder');\n        }\n    }\n\n    /**\n     * since classList.toggle with a second param is not supported in IE11 and below\n     */\n    _toggle(el, cls, condition){\n        if(condition === true){\n            el.classList.add(cls);\n        }else{\n            el.classList.remove(cls);\n        }\n    }\n}\n\ndocument.registerElement('material-input', MaterialInput);\n"]}